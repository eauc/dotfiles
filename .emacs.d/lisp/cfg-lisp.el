(use-package lispy
  :ensure t
  :init
  (add-hook 'emacs-lisp-mode-hook (lambda () (lispy-mode 1)))
  (add-hook 'clojure-mode-hook (lambda () (lispy-mode 1)))
  (add-hook 'clojurescript-mode-hook (lambda () (lispy-mode 1)))
  :bind (:map lispy-mode-map
              ("M-[" . lispy-backward)
              ("M-]" . lispy-forward)
              (")" . self-insert-command)
              ("[" . self-insert-command)
              ("]" . self-insert-command)
              (";" . self-insert-command)
              ("DEL" . backward-delete-char-untabify)
              ("M-DEL" . lispy-delete-backward))
  :config
  (cheatsheet-add-group 'Lispy
                        '(:key "b" :description "Back history")
                        '(:key "h" :description "Left")
                        '(:key "j" :description "Down")
                        '(:key "k" :description "Up")
                        '(:key "l" :description "Right")
                        '(:key "f" :description "Flow")
                        '(:key "M-[" :description "Beginning of sexp")
                        '(:key "M-]" :description "End of sexp")
                        '(:key "A" :description "Beginning of defun")
                        '(:key "d" :description "Switch to other side of sexp")
                        '(:key "q" :description "Jump to paren")
                        '(:key "Q" :description "Jump to char in sexp")
                        '(:key "G" :description "Jump to tag in current file")
                        '(:key "g" :description "Jump to tag in current directory")
                        '(:key "M-." :description "Jump to symbol")
                        '(:key "F" :description "Follow : jump to first/marked symbol")
                        '(:key "M-," :description "Jump back")
                        '(:key "i" :description "Indent")
                        '(:key "m" :description "Mark sexp")
                        '(:key "M-m" :description "Mark symbol")
                        '(:key "n" :description "Copy sexp")
                        '(:key "c" :description "Clone sexp below")
                        '(:key "M-DEL" :description "Delete sexp backward")
                        '(:key "s" :description "Move sexp down")
                        '(:key "w" :description "Move sexp up")
                        '(:key "t" :description "Teleport sexp")
                        '(:key ">" :description "Slurp")
                        '(:key "<" :description "Barf")
                        '(:key "/" :description "Splice into parent")
                        '(:key "S" :description "Transform sexp into string")
                        '(:key "M" :description "Multiline")
                        '(:key "O" :description "Oneline")
                        '(:key "r" :description "Raise sexp (replace parent with sexp)")
                        '(:key "R" :description "Raise following sexp (replace parent with sexp and followin siblings)")
                        '(:key "C" :description "Convolute")
                        '(:key "xb" :description "Bind")
                        '(:key "xc" :description "Ifs to cond")
                        '(:key "xd" :description "Lambda to defun")
                        '(:key "xi" :description "Conds to ifs")
                        '(:key "xl" :description "Defun to lambda")
                        '(:key "xu" :description "Unbind")
                        '(:key "C-," :description "Kill at point")
                        '(:key "M-d" :description "Kill word")
                        '(:key "M-k" :description "Kill sentence")
                        '(:key "C-1" :description "Describe inline")
                        '(:key "C-2" :description "Arglist inline")
                        '(:key "e" :description "Eval sexp")
                        '(:key "E" :description "Eval and insert")
                        '(:key "p" :description "Eval (other window)")))
